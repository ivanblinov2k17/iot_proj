# iot_proj

Пока удалось получиь данные из SimulIDE через открытие виртуального серийного порта в Linux
Будет актуально тем, у кого нет доступа к Arduino

Суть - с помощью socat мы создаем виртуальный серийный порт, подаем на него из
SimulIDE информацию и обрабатываем далее как хотим (в данном случае через node)

Последовательность действий:

1. Если вы на Win, то может не сработать, потому что я не знаю точно как работают порты на wsl
   Собственно вы должны поставить wsl
2. В терминале пишем socat -d -d pty,raw,echo=0 pty,raw,echo=0, может потребоваться root(команда sudo)
   Создается пара tty через которые мы и будем передавать информацию
3. Вывод команды должен быть примерно такой
   2020/06/05 17:16:27 socat[20474] N PTY is /dev/pts/6
   2020/06/05 17:16:27 socat[20474] N PTY is /dev/pts/7
   2020/06/05 17:16:27 socat[20474] N starting data transfer loop with FDs [5,5] and [7,7]

/dev/pts/ это директория tty для консолей

4. В simulide загружаем из папки simulide_folder проект, там же есть arduino код
   открываем там serial port и serial monitor
   в serial port указываем то, что вывела socat (в моем случае /dev/pts/6)
5. В корне проекта пишем npm install
6. в начале index.js указываем второй порт (/dev/pts/7)
7. node index.js

Могут возникнуть проблемы с запуском index.js, пробуйте sudo node index.js

Вуаля, можно получать и отправлять данные на симуляцию Arduino и обратно
